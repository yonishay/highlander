{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMapEvents } from 'react-leaflet';\nimport axios from 'axios';\nimport { useMapContext } from '../contexts/MapContext';\nexport function LocationMarker() {\n  _s();\n  const {\n    setBallPos,\n    goalPos\n  } = useMapContext();\n  useMapEvents({\n    moveend(e) {\n      const newBallPosition = [e.target.getCenter().lat, e.target.getCenter().lng];\n      setBallPos(newBallPosition);\n\n      // Check if it is a goal\n      axios.get('http://localhost:3000/api/goals/checkGoal', {\n        params: {\n          ballLat: newBallPosition[0],\n          ballLng: newBallPosition[1],\n          goalLat: goalPos[0],\n          goalLng: goalPos[1]\n        }\n      }).then(response => {\n        if (response.data.reachedGoal) {\n          alert('GOAL!!!!!');\n        }\n      });\n    }\n  });\n  return null; // This component does not render anything itself\n}\n_s(LocationMarker, \"e7lGX87kY1IG5K51m1+ye/C2Ig8=\", false, function () {\n  return [useMapContext, useMapEvents];\n});\n_c = LocationMarker;\nvar _c;\n$RefreshReg$(_c, \"LocationMarker\");","map":{"version":3,"names":["useMapEvents","axios","useMapContext","LocationMarker","_s","setBallPos","goalPos","moveend","e","newBallPosition","target","getCenter","lat","lng","get","params","ballLat","ballLng","goalLat","goalLng","then","response","data","reachedGoal","alert","_c","$RefreshReg$"],"sources":["/Users/yonishay/repo/high-lander/client/src/services/LocationMarker.tsx"],"sourcesContent":["import React from 'react';\nimport { useMapEvents } from 'react-leaflet';\nimport axios from 'axios';\nimport { useMapContext } from '../contexts/MapContext';\n\nexport function LocationMarker() {\n    const { setBallPos, goalPos } = useMapContext();\n\n    useMapEvents({\n        moveend(e : any) {\n            const newBallPosition: [number, number] = [\n                e.target.getCenter().lat, \n                e.target.getCenter().lng\n            ];\n            setBallPos(newBallPosition);\n\n            // Check if it is a goal\n            axios.get('http://localhost:3000/api/goals/checkGoal', {\n                params: {\n                    ballLat: newBallPosition[0],\n                    ballLng: newBallPosition[1],\n                    goalLat: goalPos[0],\n                    goalLng: goalPos[1]\n                }\n            }).then(response => {\n                if (response.data.reachedGoal) {\n                    alert('GOAL!!!!!');\n                }\n            });\n        }\n    });\n\n    return null; // This component does not render anything itself\n}\n"],"mappings":";AACA,SAASA,YAAY,QAAQ,eAAe;AAC5C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,wBAAwB;AAEtD,OAAO,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM;IAAEC,UAAU;IAAEC;EAAQ,CAAC,GAAGJ,aAAa,CAAC,CAAC;EAE/CF,YAAY,CAAC;IACTO,OAAOA,CAACC,CAAO,EAAE;MACb,MAAMC,eAAiC,GAAG,CACtCD,CAAC,CAACE,MAAM,CAACC,SAAS,CAAC,CAAC,CAACC,GAAG,EACxBJ,CAAC,CAACE,MAAM,CAACC,SAAS,CAAC,CAAC,CAACE,GAAG,CAC3B;MACDR,UAAU,CAACI,eAAe,CAAC;;MAE3B;MACAR,KAAK,CAACa,GAAG,CAAC,2CAA2C,EAAE;QACnDC,MAAM,EAAE;UACJC,OAAO,EAAEP,eAAe,CAAC,CAAC,CAAC;UAC3BQ,OAAO,EAAER,eAAe,CAAC,CAAC,CAAC;UAC3BS,OAAO,EAAEZ,OAAO,CAAC,CAAC,CAAC;UACnBa,OAAO,EAAEb,OAAO,CAAC,CAAC;QACtB;MACJ,CAAC,CAAC,CAACc,IAAI,CAACC,QAAQ,IAAI;QAChB,IAAIA,QAAQ,CAACC,IAAI,CAACC,WAAW,EAAE;UAC3BC,KAAK,CAAC,WAAW,CAAC;QACtB;MACJ,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;EAEF,OAAO,IAAI,CAAC,CAAC;AACjB;AAACpB,EAAA,CA5BeD,cAAc;EAAA,QACMD,aAAa,EAE7CF,YAAY;AAAA;AAAAyB,EAAA,GAHAtB,cAAc;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}